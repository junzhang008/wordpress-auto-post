name: æ¯å°æ—¶è‡ªåŠ¨å‘å¸ƒæ–‡ç« 

on:
   schedule:
    # æ¯å¤©åŒ—äº¬æ—¶é—´ä¸Šåˆ 8:00 å‘å¸ƒ (UTC æ—¶é—´ 00:00)
    # æ ¼å¼ï¼šåˆ†é’Ÿ å°æ—¶ å¤© æœˆ æ˜ŸæœŸ
    - cron: '0 0 * * *'
  workflow_dispatch: # ä¿ç•™æ‰‹åŠ¨è§¦å‘æŒ‰é’®ï¼Œæ–¹ä¾¿è°ƒè¯•

jobs:
  publish:
    runs-on: ubuntu-latest
    steps:
    - name: ğŸ“¥ ä¸‹è½½ä»£ç 
      uses: actions/checkout@v4
      
    - name: ğŸ è®¾ç½®Pythonç¯å¢ƒ
      uses: actions/setup-python@v4
      with:
        python-version: '3.9'
        
    - name: ğŸ“¦ å®‰è£…ä¾èµ–
      run: |
        pip install requests jieba
        
    - name: ğŸš€ è¿è¡Œè‡ªåŠ¨å‘å¸ƒè„šæœ¬
      env:
        ZHIPU_API_KEY: ${{ secrets.ZHIPU_API_KEY }}
        WORDPRESS_URL: ${{ secrets.WORDPRESS_URL }}
        WORDPRESS_USER: ${{ secrets.WORDPRESS_USER }}
        WORDPRESS_PASSWORD: ${{ secrets.WORDPRESS_PASSWORD }}
        UNSPLASH_ACCESS_KEY: ${{ secrets.UNSPLASH_ACCESS_KEY }}
      run: python auto_post.py
